# Multi-Chain Token Info & Visualization Telegram Bot

This Telegram bot provides real-time cryptocurrency token information, market data, and holder visualizations (powered by Bubblemaps) across multiple blockchain networks.

## ‚ú® Features

*   **Real-time Data:** Fetches current price, market cap, and 24-hour price change from CoinGecko.
*   **Holder Visualization:** Generates Bubblemaps screenshots showing token distribution and holder analysis.
*   **Multi-Chain Support:** Works with tokens across 10 different blockchain networks.
*   **Easy to Use:** Simply paste a contract address directly into the chat.
*   **Network Detection:** Automatically identifies Solana addresses and prompts for network selection for EVM addresses (starting with `0x`).
*   **Interactive Menus:** Uses inline keyboards for network selection and helpful guides.

## üîó Supported Networks

The bot currently supports the following networks:

*   Ethereum (ETH)
*   Binance Smart Chain (BSC)
*   Fantom (FTM)
*   Avalanche (AVAX)
*   Cronos (CRO)
*   Arbitrum (ARB)
*   Polygon (POLY)
*   Base (BASE)
*   Solana (SOL)
*   Sonic (SONIC)

## üõ†Ô∏è Installation

1.  **Clone the repository:**
    ```bash
    git clone <your-repo-url>
    cd <your-repo-directory>
    ```
2.  **Install dependencies:**
    ```bash
    npm install
    # or
    yarn install
    ```
3.  **Set up environment variables:**
    Create a `.env` file in the root directory and add your Telegram Bot Token:
    ```env
    TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
    ```
    You can get a token by talking to the [BotFather](https://t.me/BotFather) on Telegram.

4.  **(Optional) Configure Puppeteer:** The bot uses Puppeteer for screenshots. Depending on your environment, you might need to install additional dependencies for Chromium. Refer to the [Puppeteer documentation](https://pptr.dev/troubleshooting) for details.

## üöÄ Usage

1.  **Start the bot:**
    ```bash
    npm start
    # or
    yarn start
    ```
2.  **Interact with the bot on Telegram:**
    *   Find your bot on Telegram (the one you created with BotFather).
    *   Send the `/start` command to see the welcome message and guide.
    *   **Simply paste a token contract address** into the chat.
        *   **Solana/Sonic addresses:** The bot will automatically process them.
        *   **EVM addresses (starting with `0x`):** The bot will ask you to select the correct network (ETH, BSC, POLY, etc.) from an inline keyboard.
    *   The bot will reply with:
        *   Token name and symbol (if found).
        *   Network information.
        *   CoinGecko market data (price, market cap, 24h change).
        *   Bubblemaps supply analysis (Decentralization Score, % in CEXs, % in Contracts).
        *   A Bubblemaps visualization screenshot (if available).
        *   Links to view the token on CoinGecko and Bubblemaps.

## üì¶ Dependencies

*   [grammy](https://grammy.dev/): Telegram Bot Framework for Node.js.
*   [dotenv](https://github.com/motdotla/dotenv): Loads environment variables from a `.env` file.
*   [puppeteer](https://pptr.dev/): Headless Chrome Node.js API used for taking Bubblemaps screenshots.
*   [axios](https://axios-http.com/): Promise-based HTTP client for making API requests (used for CoinGecko).
*   TypeScript: For static typing and better development experience.

## üî¨ Methodologies & Data Sources

*   **Network Detection:**
    *   Solana/Sonic addresses are identified based on their typical Base58 encoding length and format.
    *   EVM addresses are identified by the `0x` prefix followed by 40 hexadecimal characters.
*   **Token Data:** Fetched using the [CoinGecko API](https://www.coingecko.com/en/api). The bot specifically uses the `/coins/{network_id}/contract/{contract_address}` endpoint.
*   **Visualization & Supply Analysis:**
    *   Screenshots are generated by loading the token's page on [app.bubblemaps.io](https://app.bubblemaps.io/) using Puppeteer in headless mode.
    *   Supply analysis data (Decentralization Score, CEX/Contract percentages) is scraped from the Bubblemaps page metadata during the screenshot process.
*   **Caching:** A simple in-memory cache (`addressCache` in `bot.ts`) temporarily stores the full EVM address during the network selection process, keyed by user ID and a shortened address representation. This cache has a short lifespan implicitly tied to the user interaction flow.

## ‚ùì Troubleshooting

*   **"Token not found":** The token might not be listed on CoinGecko for the specified network, or the contract address might be incorrect.
*   **"Error: Navigation timeout":** This usually indicates an issue with loading the Bubblemaps page via Puppeteer. It could be due to network congestion, a slow connection, or an issue with the Bubblemaps site itself. Try again later.
*   **No visualization:** Bubblemaps might not have data available for that specific token, or the screenshot process failed. The bot will still provide CoinGecko data if available.
*   **Incorrect Network Selected:** If you choose the wrong network for an EVM address, the data fetched (if any) will be incorrect or missing. Ensure you select the network where the token contract is deployed.
*   **Puppeteer/Chromium Issues:** Ensure Chromium is correctly installed and accessible in your environment. Check Puppeteer's troubleshooting guide if errors persist.

## ü§ù Contributing

Contributions are welcome! Please feel free to submit pull requests or open issues.

## üìú License

[Specify your license here, e.g., MIT License]
